<!-- Just the modified parts -->

<thead>
  <tr>
    <th>Price</th>
    <th>Discount (%)</th>
    <th>Discounted Price</th>
    <th id="usersOrMinutesHeader">Users / Minutes</th>
    <th>Total per Row</th>
  </tr>
</thead>
<tbody>
  <!-- ... rows above unchanged ... -->
  <tr>
    <td class="black-bg"><input type="text" readonly /></td>
    <td class="yellow-bg">Total</td>
    <td class="yellow-bg"><input type="number" id="discountedPriceTotal" readonly /></td>
    <td class="yellow-bg"></td>
    <td><input type="number" id="grandTotal" readonly /></td>
  </tr>
</tbody>

<script>
  function updateResults() {
    let grandTotalSum = 0;
    let discountedPriceSum = 0;
    for(let i = 0; i <= 3; i++) {
      const price = (i === 0) ? document.getElementById('price0').value : 
                    (i === 1 ? 60 : (i === 2 ? 30 : 39));
      const discount = document.getElementById(`discount${i}`).value;
      const discountedPrice = calcDiscount(price, discount);
      document.getElementById(`result${i}`).value = discountedPrice;

      // accumulate discounted prices if valid
      discountedPriceSum += (discountedPrice === '' || isNaN(discountedPrice)) ? 0 : parseFloat(discountedPrice);

      let totalPerRow = 0;
      if (i === 3) {
        const minutesVal = document.getElementById(`users3`).value;
        totalPerRow = calculateMinutesTotal(minutesVal);
      } else {
        const usersVal = document.getElementById(`users${i}`).value;
        const users = usersVal === '' ? 0 : parseInt(usersVal, 10);
        totalPerRow = (discountedPrice !== '' && !isNaN(users)) ? +(discountedPrice * users).toFixed(2) : 0;
      }
      document.getElementById(`totalRow${i}`).value = totalPerRow;

      grandTotalSum += totalPerRow;
    }
    document.getElementById('grandTotal').value = grandTotalSum.toFixed(2);
    document.getElementById('discountedPriceTotal').value = discountedPriceSum.toFixed(2);
  }
</script>
